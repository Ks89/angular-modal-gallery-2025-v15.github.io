import{a}from"./chunk-U4QZNBVL.js";import"./chunk-MX6BWF72.js";import{Cb as t,Db as n,Eb as i,X as l,Yb as e,Za as d}from"./chunk-RXF25YXR.js";var m=class m{constructor(){this.uiService=l(a)}ngOnInit(){this.metaData()}metaData(){this.uiService.setMetaData({title:"Migration"})}};m.\u0275fac=function(o){return new(o||m)},m.\u0275cmp=d({type:m,selectors:[["app-migration-page"]],decls:321,vars:0,consts:[["id","migration",1,"title"],[1,"container"],[1,"row"],[1,"col-12"],["href","https://github.com/Ks89/angular-modal-gallery/tree/master/examples/angular-cli-13"],["href","https://ks89.github.io/angular-modal-gallery-2022-v10.github.io/features/carousel"],["href","https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code"]],template:function(o,s){o&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),e(3,"Migration guide"),n()()(),t(4,"div",1)(5,"div",2)(6,"div",3)(7,"h2"),e(8,"How to upgrade?"),n(),i(9,"hr"),t(10,"section")(11,"h3"),e(12,"from 13.x.x to 14.x.x"),n(),i(13,"br"),t(14,"h4"),e(15,"Step 1 - upgrade @ks89/angular-modal-gallery to the latest 14.x.x version"),n(),t(16,"p"),e(17,"Run in your terminal: "),t(18,"code"),e(19,"npm install --save @ks89/angular-modal-gallery"),n()(),i(20,"br"),t(21,"h4"),e(22,"Step 2 - upgrade Angular and rxjs"),n(),t(23,"p"),e(24,"Use the latest version of Angular (with the recommended rxjs version). It must be Angular 20 or higher."),n(),i(25,"br"),t(26,"h4"),e(27,"Step 3 - import cdk style using the new syntax"),n(),t(28,"p"),e(29,"Replace "),t(30,"code"),e(31,'@import "~@angular/cdk/overlay-prebuilt.css";'),n(),e(32," with "),t(33,"code"),e(34,'@use "~@angular/cdk/overlay-prebuilt.css" as *;'),n()(),i(35,"br"),t(36,"h4"),e(37,"Step 4 (optional) - migrate your project from modules to standalone components"),n(),t(38,"p"),e(39,"Follow the official Angular documentation."),n()(),i(40,"br")(41,"br"),t(42,"section")(43,"h3"),e(44,"from 12.x.x to 13.x.x"),n(),i(45,"br"),t(46,"h4"),e(47,"Step 1 - upgrade @ks89/angular-modal-gallery to the latest 13.x.x version"),n(),t(48,"p"),e(49,"Run in your terminal: "),t(50,"code"),e(51,"npm install --save @ks89/angular-modal-gallery"),n()(),i(52,"br"),t(53,"h4"),e(54,"Step 2 - upgrade Angular and rxjs"),n(),t(55,"p"),e(56,"Use the latest version of Angular (with the recommended rxjs version). It must be Angular 19 or higher."),n()(),i(57,"br")(58,"br"),t(59,"section")(60,"h3"),e(61,"from 11.x.x to 12.x.x"),n(),i(62,"br"),t(63,"h4"),e(64,"Step 1 - upgrade @ks89/angular-modal-gallery to the latest 12.x.x version"),n(),t(65,"p"),e(66,"Run in your terminal: "),t(67,"code"),e(68,"npm install --save @ks89/angular-modal-gallery"),n()(),i(69,"br"),t(70,"h4"),e(71,"Step 2 - upgrade Angular and rxjs"),n(),t(72,"p"),e(73,"Use the latest version of Angular (with the recommended rxjs version). It must be Angular 18 or higher."),n()(),i(74,"br")(75,"br"),t(76,"section")(77,"h3"),e(78,"from 10.x.x to 11.x.x"),n(),i(79,"br"),t(80,"h4"),e(81,"Step 1 - upgrade @ks89/angular-modal-gallery to the latest 11.x.x version"),n(),t(82,"p"),e(83,"Run in your terminal: "),t(84,"code"),e(85,"npm install --save @ks89/angular-modal-gallery"),n()(),i(86,"br"),t(87,"h4"),e(88,"Step 2 - upgrade Angular and rxjs"),n(),t(89,"p"),e(90,"Use the latest version of Angular (with the recommended rxjs version). It must be Angular 16 or higher."),n(),i(91,"br"),t(92,"h4"),e(93,"Step 3 - remove 'hammerjs' and 'mousetrap'"),n(),t(94,"p")(95,"b"),e(96,"Remove "),t(97,"code"),e(98,"hammerjs"),n(),e(99," and "),t(100,"code"),e(101,"mousetrap"),n(),e(102," from your "),t(103,"code"),e(104,"package.json"),n(),e(105," and all imports from your application."),n()(),i(106,"br"),t(107,"h4"),e(108,"Step 4 - remove 'keyboardServiceConfig' from 'ModalLibConfig' configuration object"),n(),t(109,"p"),e(110,"Without "),t(111,"code"),e(112,"mousetrap"),n(),e(113," you won't be able to customize download shortcuts anymore."),n()(),i(114,"br")(115,"br"),t(116,"section")(117,"h3"),e(118,"from 9.x.x to 10.x.x"),n(),i(119,"br"),t(120,"h4"),e(121,"Step 1 - upgrade @ks89/angular-modal-gallery to the latest 10.x.x version"),n(),t(122,"p"),e(123,"Run in your terminal: "),t(124,"code"),e(125,"npm install --save @ks89/angular-modal-gallery"),n()(),i(126,"br"),t(127,"h4"),e(128,"Step 2 - upgrade Angular and rxjs"),n(),t(129,"p"),e(130,"Use the latest version of Angular (with the recommended rxjs version). It must be Angular 15 or higher."),n()(),i(131,"br")(132,"br"),t(133,"section")(134,"h3"),e(135,"from 8.x.x to 9.x.x"),n(),i(136,"br"),t(137,"h4"),e(138,"Step 1 - upgrade @ks89/angular-modal-gallery to the latest 9.x.x version"),n(),t(139,"p"),e(140,"Run in your terminal: "),t(141,"code"),e(142,"npm install --save @ks89/angular-modal-gallery"),n()(),i(143,"br"),t(144,"h4"),e(145,"Step 2 - upgrade Angular and rxjs"),n(),t(146,"p"),e(147,"Use the latest version of Angular (with the recommended rxjs version). It must be Angular 13 or higher."),n(),i(148,"br"),t(149,"h4"),e(150,"Step 3 - remove the generic "),t(151,"code"),e(152,"LibConfig"),n(),e(153," interface, because no more exported."),n(),t(154,"p"),e(155,"Choose the specific interfaces based on your needs"),n(),t(156,"ul")(157,"li"),e(158,"in modal-gallery configuration use "),t(159,"code"),e(160,"ModalLibConfig"),n()(),t(161,"li"),e(162,"in plain-gallery configuration use "),t(163,"code"),e(164,"PlainLibConfig"),n()(),t(165,"li"),e(166,"in carousel configuration use "),t(167,"code"),e(168,"CarouselLibConfig"),n()()(),i(169,"br"),t(170,"h4"),e(171,"Step 4 - update plain-gallery"),n(),t(172,"ul")(173,"li"),e(174,"remove "),t(175,"code"),e(176,"AdvancedLayout"),n(),e(177," from PlainGallery, because already unused since v8.0.0"),n(),t(178,"li"),e(179,"remove "),t(180,"code"),e(181,'[showGallery]="true"'),n(),e(182," input from plain-gallery HTML component, because it's unused"),n(),t(183,"li"),e(184,"rename "),t(185,"code"),e(186,'(showImage)="..."'),n(),e(187," output into "),t(188,"code"),e(189,'(clickImage)="..."'),n(),e(190," output"),n()(),i(191,"br"),t(192,"h4"),e(193,"Step 5 - update carousel"),n(),t(194,"ul")(195,"li"),e(196,"IE11 legacy mode has been removed from the library, because Angular doesn't support Internet Explorer 11 anymore. So you have to remove "),t(197,"code"),e(198,"legacyIE11Mode: true"),n(),e(199," in your code "),n(),t(200,"li"),e(201,"remove "),t(202,"code"),e(203,"[previewConfig]"),n(),e(204," and "),t(205,"code"),e(206,"[carouselConfig]"),n(),e(207," inputs from HTML, because replaced with a single "),t(208,"code"),e(209,'[config]="..."'),n(),e(210," like all other components of the library. For more information check the "),t(211,"a",4),e(212,"official example"),n(),e(213," and the "),t(214,"a",5),e(215,"documentation page"),n(),e(216,". Don't be scared, it's easies then you think. You only need to pass an object moving previews configuration inside it. "),n(),t(217,"li"),e(218,"rename "),t(219,"code"),e(220,'(showImage)="..."'),n(),e(221," output into "),t(222,"code"),e(223,'(changeImage)="..."'),n(),e(224," output"),n()(),i(225,"br"),t(226,"h4"),e(227,"Step 6 - "),t(228,"code"),e(229,"KeyboardEvent.keyCode"),n(),e(230," is no more supported"),n(),t(231,"p"),e(232,"If you are using custom keyCodes via "),t(233,"code"),e(234,"keyboardConfig"),n(),e(235," you have to migrate to the newer "),t(236,"code"),e(237,"KeyboardEvent.code"),n()(),t(238,"p"),e(239,"For more information, please check the "),t(240,"a",6),e(241,"MDN documentation here"),n(),e(242,"."),n(),t(243,"p"),e(244,"As a quick example. Previously, you were using integer keyCodes:"),n(),t(245,"pre"),e(246,`        keyboardConfig: {
          esc: 81, // Q keyCode
          left: 40, // Arrow down keyCode
          right: 38 // Arrow ip keyCode
        }
        `),n(),t(247,"p"),e(248,"instead, starting from v9.0.0, you have to use the equivalent codes:"),n(),t(249,"pre"),e(250,`        keyboardConfig: {
          esc: 'KeyQ',
          left: 'ArrowDown',
          right: 'ArrowUp'
        }
        `),n()(),i(251,"br")(252,"br"),t(253,"section")(254,"h3"),e(255,"from 7.x.x to 8.x.x"),n(),i(256,"br"),t(257,"h4"),e(258,"Step 1 - upgrade @ks89/angular-modal-gallery to the latest 8.x.x version"),n(),t(259,"p"),e(260,"Run in your terminal: "),t(261,"code"),e(262,"npm install --save @ks89/angular-modal-gallery"),n()(),i(263,"br"),t(264,"h4"),e(265,"Step 2 - upgrade Angular and rxjs"),n(),t(266,"p"),e(267,"Use the latest version of Angular (with the recommended rxjs version). It must be Angular 12 or higher."),n(),i(268,"br"),t(269,"h4"),e(270,"Step 3 - be sure to install the mandatory dependency `@angular/cdk`"),n(),t(271,"p"),e(272,"@angular/cdk is mandatory to support responsiveness of carousel component and to show modal gallery."),n(),t(273,"p"),e(274,"Run in your terminal: "),t(275,"code"),e(276,"npm install --save @angular/cdk"),n()(),i(277,"br"),t(278,"h4"),e(279,"Step 4 - update module import"),n(),t(280,"p"),e(281,"Replace all occurrences of "),t(282,"code"),e(283,"GalleryModule.forRoot()"),n(),e(284," with "),t(285,"code"),e(286,"GalleryModule"),n(),e(287,"."),n(),i(288,"br"),t(289,"h4"),e(290,"Step 5 - update your global style file"),n(),t(291,"p"),e(292,"Add these classes to your global style file:"),n(),t(293,"pre"),e(294,`    @import "~@angular/cdk/overlay-prebuilt.css";

    .ks-modal-gallery-backdrop {
      background: #000 !important;;
      opacity: 0.85 !important;;
    }

    .ks-modal-gallery-panel {
      z-index: 90000 !important;
    }
        `),n(),i(295,"br"),t(296,"h4"),e(297,"Step 6 - update your code"),n(),i(298,"br"),t(299,"h5"),e(300,"Plain Gallery"),n(),t(301,"p"),e(302,"Change HTML code"),n(),t(303,"pre"),e(304,`  <ks-modal-gallery [id]="1" [modalImages]="images"
    [plainGalleryConfig]="plainGalleryRowATags"></ks-modal-gallery>
        `),n(),t(305,"p"),e(306,"with"),n(),t(307,"pre"),e(308,`  <ks-plain-gallery [id]="1" [images]="images" [showGallery]="true"
    [config]="libConfigPlainGallery"
    (showImage)="onShow(1, $event)"></ks-plain-gallery>
        `),n(),t(309,"p"),e(310,"Then add the LibConfig object and "),t(311,"code"),e(312,"onShow"),n(),e(313," method in Typescript component:"),n(),t(314,"pre"),e(315,`  images: Image[]; // init this value with your images

  constructor(private modalGalleryService: ModalGalleryService) {}

  libConfigPlainGallery: LibConfig = {
    plainGalleryConfig: {
      // your custom plain gallery configuration here
    } as PlainGalleryConfig
  };

  onShow(id: number, index: number, images: Image[] = this.images): void {
    const dialogRef: ModalGalleryRef = this.modalGalleryService.open({
      id,
      images,
      currentImage: images[index]
    }) as ModalGalleryRef;
  }
        `),n(),i(316,"br"),t(317,"h5"),e(318,"Modal Gallery"),n(),t(319,"p"),e(320,"In case of Modal Galley, you have to remove HTML selector from all you HTML files, because now it's an Angular service and not a component."),n()()()()())},styles:[".col-12[_ngcontent-%COMP%]{padding-right:20px;padding-left:20px}#migration[_ngcontent-%COMP%]{padding:4rem 2rem 4rem 0;border-radius:0;margin-bottom:2rem}"]});var r=m;export{r as MigrationComponent};
